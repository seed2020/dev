<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- TABLE : AP_ONGD_B[진행문서기본] -->
<mapper namespace="com.innobiz.orange.web.ap.dao.ApOngdBDao">

	<resultMap id="apOngdBMap" type="ApOngdBVo">
		<id property="apvNo" column="APV_NO" /><!-- 결재번호 -->
		<result property="docNo" column="DOC_NO" /><!-- 문서번호 -->
		<result property="compId" column="COMP_ID" /><!-- 회사ID -->
		<result property="docSubj" column="DOC_SUBJ" /><!-- 문서제목 -->
		<result property="attFileYn" column="ATT_FILE_YN" /><!-- 첨부파일여부 -->
		<result property="formId" column="FORM_ID" /><!-- 양식ID -->
		<result property="formSeq" column="FORM_SEQ" /><!-- 양식일련번호 -->
		<result property="formApvLnTypCd" column="FORM_APV_LN_TYP_CD" /><!-- 양식결재라인구분코드 -->
		<result property="formNm" column="FORM_NM" /><!-- 양식명 -->
		<result property="bodyHghtPx" column="BODY_HGHT_PX" /><!-- 본문높이픽셀 -->
		<result property="formWdthTypCd" column="FORM_WDTH_TYP_CD" /><!-- 양식넓이구분코드 -->
		<result property="docLangTypCd" column="DOC_LANG_TYP_CD" /><!-- 문서언어구분코드 -->
		<result property="docStatCd" column="DOC_STAT_CD" /><!-- 문서상태코드 -->
		<result property="docProsStatCd" column="DOC_PROS_STAT_CD" /><!-- 문서승인상태코드 -->
		<result property="docKeepPrdCd" column="DOC_KEEP_PRD_CD" /><!-- 문서보존기간코드 -->
		<result property="docTypCd" column="DOC_TYP_CD" /><!-- 문서구분코드 -->
		<result property="seculCd" column="SECUL_CD" /><!-- 보안등급코드 -->
		<result property="ugntDocYn" column="UGNT_DOC_YN" /><!-- 긴급문서여부 -->
		<result property="allReadYn" column="ALL_READ_YN" /><!-- 전체열람여부 -->
		<result property="regRecLstRegYn" column="REG_REC_LST_REG_YN" /><!-- 등록대장등록여부 -->
		<result property="regRecLstRegSkedYmd" column="REG_REC_LST_REG_SKED_YMD" /><!-- 등록대장등록예정년월일 -->
		<result property="secuDocYn" column="SECU_DOC_YN" /><!-- 보안문서여부 -->
		<result property="docPwEnc" column="DOC_PW_ENC" /><!-- 문서비밀번호암호값 -->
		<result property="sendrNmRescId" column="SENDR_NM_RESC_ID" /><!-- 발신명의리소스ID -->
		<result property="sendrNmRescNm" column="SENDR_NM_RESC_NM" /><!-- 발신명의리소스명 -->
		<result property="ofsePath" column="OFSE_PATH" /><!-- 관인경로 -->
		<result property="ofseHghtPx" column="OFSE_HGHT_PX" /><!-- 관인높이픽셀 -->
		<result property="clsInfoId" column="CLS_INFO_ID" /><!-- 분류정보ID -->
		<result property="psnClsInfoId" column="PSN_CLS_INFO_ID" /><!-- 개인분류정보ID -->
		<result property="apvLnTypCd" column="APV_LN_TYP_CD" /><!-- 결재라인구분코드 -->
		<result property="bodyHstNo" column="BODY_HST_NO" /><!-- 본문이력번호 -->
		<result property="attHstNo" column="ATT_HST_NO" /><!-- 첨부이력번호 -->
		<result property="recvDeptHstNo" column="RECV_DEPT_HST_NO" /><!-- 수신처이력번호 -->
		<result property="refDocHstNo" column="REF_DOC_HST_NO" /><!-- 참조문서이력번호 -->
		<result property="makDt" column="MAK_DT" /><!-- 기안일시 -->
		<result property="makrUid" column="MAKR_UID" /><!-- 기안자UID -->
		<result property="makrNm" column="MAKR_NM" /><!-- 기안자명 -->
		<result property="makDeptId" column="MAK_DEPT_ID" /><!-- 기안부서ID -->
		<result property="makDeptNm" column="MAK_DEPT_NM" /><!-- 기안부서명 -->
		<result property="curApvrId" column="CUR_APVR_ID" /><!-- 현재결재자ID -->
		<result property="curApvrNm" column="CUR_APVR_NM" /><!-- 현재결재자명 -->
		<result property="curApvrDeptYn" column="CUR_APVR_DEPT_YN" /><!-- 현재결재자부서여부 -->
		<result property="cmplDt" column="CMPL_DT" /><!-- 완결일시 -->
		<result property="cmplrUid" column="CMPLR_UID" /><!-- 완결자UID -->
		<result property="cmplrNm" column="CMPLR_NM" /><!-- 완결자명 -->
		<result property="enfcScopCd" column="ENFC_SCOP_CD" /><!-- 시행범위코드 -->
		<result property="enfcDt" column="ENFC_DT" /><!-- 시행일시 -->
		<result property="recvDocNo" column="RECV_DOC_NO" /><!-- 접수문서번호 -->
		<result property="recvDt" column="RECV_DT" /><!-- 접수일시 -->
		<result property="enfcDocKeepPrdCd" column="ENFC_DOC_KEEP_PRD_CD" /><!-- 시행문서보존기간코드 -->
		<result property="enfcStatCd" column="ENFC_STAT_CD" /><!-- 시행상태코드 -->
		<result property="sendInstId" column="SEND_INST_ID" /><!-- 발송기관ID -->
		<result property="sendInstNm" column="SEND_INST_NM" /><!-- 발송기관명 -->
		<result property="recLstTypCd" column="REC_LST_TYP_CD" /><!-- 대장구분코드 -->
		<result property="recLstDeptId" column="REC_LST_DEPT_ID" /><!-- 대장부서ID -->
		<result property="orgnApvNo" column="ORGN_APV_NO" /><!-- 원본결재번호 -->
		<result property="trxApvNo" column="TRX_APV_NO" /><!-- 변환결재번호 -->
		<result property="intgTypCd" column="INTG_TYP_CD" /><!-- 연계구분코드 -->
		<result property="intgNo" column="INTG_NO" /><!-- 연계번호 -->
		<result property="sendrNmOrgId" column="SENDR_NM_ORG_ID" /><!-- 발신명의조직ID -->
		<result property="sendWithRefDocYn" column="SEND_WITH_REF_DOC_YN" /><!-- 참조문서포함발송여부 -->
		<result property="footerVa" column="FOOTER_VA" /><!-- 바닥글값 -->
		<result property="xmlTypId" column="XML_TYP_ID" /><!-- XML구분ID -->
		<result property="formApvLnTypNm" column="FORM_APV_LN_TYP_NM" /><!-- 양식결재라인구분명 -->
		<result property="formWdthTypNm" column="FORM_WDTH_TYP_NM" /><!-- 양식넓이구분명 -->
		<result property="docLangTypNm" column="DOC_LANG_TYP_NM" /><!-- 문서언어구분명 -->
		<result property="docStatNm" column="DOC_STAT_NM" /><!-- 문서상태명 -->
		<result property="docProsStatNm" column="DOC_PROS_STAT_NM" /><!-- 문서승인상태명 -->
		<result property="docKeepPrdNm" column="DOC_KEEP_PRD_NM" /><!-- 문서보존기간명 -->
		<result property="docTypNm" column="DOC_TYP_NM" /><!-- 문서구분명 -->
		<result property="seculNm" column="SECUL_NM" /><!-- 보안등급명 -->
		<result property="apvLnTypNm" column="APV_LN_TYP_NM" /><!-- 결재라인구분명 -->
		<result property="enfcScopNm" column="ENFC_SCOP_NM" /><!-- 시행범위명 -->
		<result property="enfcDocKeepPrdNm" column="ENFC_DOC_KEEP_PRD_NM" /><!-- 시행문서보존기간명 -->
		<result property="enfcStatNm" column="ENFC_STAT_NM" /><!-- 시행상태명 -->
		<result property="recLstTypNm" column="REC_LST_TYP_NM" /><!-- 대장구분명 -->
		<result property="sortOrdr" column="SORT_ORDR" /><!-- 정렬순서 -->
		<result property="apvLnPno" column="APV_LN_PNO" /><!-- 결재라인부모번호 -->
		<result property="apvLnNo" column="APV_LN_NO" /><!-- 결재라인번호 -->
		<result property="prevApvrApvDt" column="PREV_APVR_APV_DT" /><!-- 이전결재자결재일시 -->
		<result property="vwDt" column="VW_DT" /><!-- 조회일시 -->
		<result property="apvrUid" column="APVR_UID" /><!-- 결재자UID -->
		<result property="apvrRoleCd" column="APVR_ROLE_CD" /><!-- 결재자역할코드 -->
		<result property="apvStatCd" column="APV_STAT_CD" /><!-- 결재상태코드 -->
		<result property="sendSeq" column="SEND_SEQ" /><!-- 발송일련번호 -->
		<result property="pubBxDt" column="PUB_BX_DT" /><!-- 공람게시일시 -->
		<result property="pubBxEndYmd" column="PUB_BX_END_YMD" /><!-- 공람게시종료년월일 -->
		<result property="regrUid" column="REGR_UID" /><!-- 등록자UID -->
		<result property="regrNm" column="REGR_NM" /><!-- 등록자명 -->
		<result property="regDeptNm" column="REG_DEPT_NM" /><!-- 등록부서명 -->
		<result property="refVwStatCd" column="REF_VW_STAT_CD" /><!-- 참조열람상태코드 -->
		<result property="refVwStatNm" column="REF_VW_STAT_NM" /><!-- 참조열람상태명 -->
		<result property="apvrNm" column="APVR_NM" /><!-- 결재자명 -->
		<result property="apvrPositNm" column="APVR_POSIT_NM" /><!-- 결재자직위명 -->
		<result property="apvrTitleNm" column="APVR_TITLE_NM" /><!-- 결재자직책명 -->
		<result property="apvOpinCont" column="APV_OPIN_CONT" /><!-- 결재의견내용 -->
		<result property="rnum" column="RNUM" /><!-- 레코드 번호 -->
	</resultMap>

	<select id="selectApOngdB" resultMap="apOngdBMap" parameterType="ApOngdBVo" >
		/* com.innobiz.orange.web.ap.dao.ApOngdBDao.selectApOngdB */
		<if test="pageNo != null and pageRowCnt != null">
		SELECT
		<trim prefix="" suffix="" suffixOverrides=",">
			M.*,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'FORM_APV_LN_TYP_CD' AND CD = M.FORM_APV_LN_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) FORM_APV_LN_TYP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'FORM_WDTH_TYP_CD' AND CD = M.FORM_WDTH_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) FORM_WDTH_TYP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'LANG_TYP_CD' AND CD = M.DOC_LANG_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) DOC_LANG_TYP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'DOC_STAT_CD' AND CD = M.DOC_STAT_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) DOC_STAT_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'DOC_PROS_STAT_CD' AND CD = M.DOC_PROS_STAT_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) DOC_PROS_STAT_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'DOC_KEEP_PRD_CD' AND CD = M.DOC_KEEP_PRD_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) DOC_KEEP_PRD_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'DOC_TYP_CD' AND CD = M.DOC_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) DOC_TYP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'SECUL_CD' AND CD = M.SECUL_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) SECUL_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'APV_LN_TYP_CD' AND CD = M.APV_LN_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) APV_LN_TYP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'ENFC_SCOP_CD' AND CD = M.ENFC_SCOP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) ENFC_SCOP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'DOC_KEEP_PRD_CD' AND CD = M.ENFC_DOC_KEEP_PRD_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) ENFC_DOC_KEEP_PRD_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'ENFC_STAT_CD' AND CD = M.ENFC_STAT_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) ENFC_STAT_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'REC_LST_TYP_CD' AND CD = M.REC_LST_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) REC_LST_TYP_NM,
		</trim>
		FROM (
		</if>
		SELECT
		<trim prefix="" suffix="" suffixOverrides=",">
			<if test="pageNo != null and pageRowCnt != null">
			* FROM (SELECT N.*, ROWNUM RNUM FROM (SELECT
			</if>
			T.APV_NO,
			T.DOC_NO,
			T.COMP_ID,
			T.DOC_SUBJ,
			T.ATT_FILE_YN,
			T.FORM_ID,
			T.FORM_SEQ,
			T.FORM_APV_LN_TYP_CD,
			T.FORM_NM,
			T.BODY_HGHT_PX,
			T.FORM_WDTH_TYP_CD,
			T.DOC_LANG_TYP_CD,
			T.DOC_STAT_CD,
			T.DOC_PROS_STAT_CD,
			T.DOC_KEEP_PRD_CD,
			T.DOC_TYP_CD,
			T.SECUL_CD,
			T.UGNT_DOC_YN,
			T.ALL_READ_YN,
			T.REG_REC_LST_REG_YN,
			TO_CHAR(T.REG_REC_LST_REG_SKED_YMD, 'YYYY-MM-DD') REG_REC_LST_REG_SKED_YMD,
			T.SECU_DOC_YN,
			T.DOC_PW_ENC,
			T.SENDR_NM_RESC_ID,
			T.SENDR_NM_RESC_NM,
			T.OFSE_PATH,
			T.OFSE_HGHT_PX,
			T.CLS_INFO_ID,
			T.PSN_CLS_INFO_ID,
			T.APV_LN_TYP_CD,
			T.BODY_HST_NO,
			T.ATT_HST_NO,
			T.RECV_DEPT_HST_NO,
			T.REF_DOC_HST_NO,
			TO_CHAR(T.MAK_DT, 'YYYY-MM-DD HH24:MI:SS') MAK_DT,
			T.MAKR_UID,
			T.MAKR_NM,
			T.MAK_DEPT_ID,
			T.MAK_DEPT_NM,
			T.CUR_APVR_ID,
			T.CUR_APVR_NM,
			T.CUR_APVR_DEPT_YN,
			TO_CHAR(T.CMPL_DT, 'YYYY-MM-DD HH24:MI:SS') CMPL_DT,
			T.CMPLR_UID,
			T.CMPLR_NM,
			T.ENFC_SCOP_CD,
			TO_CHAR(T.ENFC_DT, 'YYYY-MM-DD HH24:MI:SS') ENFC_DT,
			T.RECV_DOC_NO,
			TO_CHAR(T.RECV_DT, 'YYYY-MM-DD HH24:MI:SS') RECV_DT,
			T.ENFC_DOC_KEEP_PRD_CD,
			T.ENFC_STAT_CD,
			T.SEND_INST_ID,
			T.SEND_INST_NM,
			T.REC_LST_TYP_CD,
			T.REC_LST_DEPT_ID,
			T.ORGN_APV_NO,
			T.TRX_APV_NO,
			T.INTG_TYP_CD,
			T.INTG_NO,
			T.SENDR_NM_ORG_ID,
			T.SEND_WITH_REF_DOC_YN,
			T.FOOTER_VA,
			T.XML_TYP_ID,
			<if test="sortOrdr != null and sortOrdr != ''">${sortOrdr}</if><if test="sortOrdr == null or sortOrdr == ''">NULL</if> SORT_ORDR,
			<if test="apvrRoleCdList != null">
			A.APV_LN_PNO,
			A.APV_LN_NO,
			TO_CHAR(A.PREV_APVR_APV_DT, 'YYYY-MM-DD HH24:MI:SS') PREV_APVR_APV_DT,
			TO_CHAR(A.VW_DT, 'YYYY-MM-DD HH24:MI:SS') VW_DT,
			A.APVR_UID,
			A.APVR_ROLE_CD,
			A.APV_STAT_CD,
			</if>
			<if test="(pichTypCd != null and pichTypCd != '')">
			TO_CHAR(B.PREV_APVR_APV_DT, 'YYYY-MM-DD HH24:MI:SS') PREV_APVR_APV_DT,
			TO_CHAR(B.VW_DT, 'YYYY-MM-DD HH24:MI:SS') VW_DT,
			</if>
			<if test="(recvDeptId != null and recvDeptId != '')">
			TO_CHAR(C.PREV_APVR_APV_DT, 'YYYY-MM-DD HH24:MI:SS') PREV_APVR_APV_DT,
			TO_CHAR(C.VW_DT, 'YYYY-MM-DD HH24:MI:SS') VW_DT,
			C.SEND_SEQ,
			</if>
			<if test="(refApvNo != null and refApvNo != '')">
			<if test="sortOrdr != null and sortOrdr != ''">${sortOrdr}</if><if test="sortOrdr == null or sortOrdr == ''">NULL</if> SORT_ORDR,
			</if>
			<if test="(pubBxDeptId != null and pubBxDeptId != '')">
			TO_CHAR(E.PUB_BX_DT, 'YYYY-MM-DD HH24:MI:SS') PUB_BX_DT,
			TO_CHAR(E.PUB_BX_END_YMD, 'YYYY-MM-DD') PUB_BX_END_YMD,
			E.REGR_UID,
			E.REGR_NM,
			E.REG_DEPT_NM,
			</if>
			<if test="(refVwrUid != null and refVwrUid != '') or refVwrUidList != null">
			G.REF_VW_STAT_CD,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'REF_VW_STAT_CD' AND CD = G.REF_VW_STAT_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) REF_VW_STAT_NM,
			TO_CHAR(G.VW_DT, 'YYYY-MM-DD HH24:MI:SS') VW_DT,
			</if>
			<if test="(hasOpinYn != null and hasOpinYn != '')">
			H.APVR_UID,
			H.APVR_NM,
			H.APVR_POSIT_NM,
			H.APVR_TITLE_NM,
			H.APV_OPIN_CONT,
			</if>
			<if test="pageNo == null or pageRowCnt == null">
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'FORM_APV_LN_TYP_CD' AND CD = T.FORM_APV_LN_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) FORM_APV_LN_TYP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'FORM_WDTH_TYP_CD' AND CD = T.FORM_WDTH_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) FORM_WDTH_TYP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'LANG_TYP_CD' AND CD = T.DOC_LANG_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) DOC_LANG_TYP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'DOC_STAT_CD' AND CD = T.DOC_STAT_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) DOC_STAT_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'DOC_PROS_STAT_CD' AND CD = T.DOC_PROS_STAT_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) DOC_PROS_STAT_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'DOC_KEEP_PRD_CD' AND CD = T.DOC_KEEP_PRD_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) DOC_KEEP_PRD_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'DOC_TYP_CD' AND CD = T.DOC_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) DOC_TYP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'SECUL_CD' AND CD = T.SECUL_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) SECUL_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'APV_LN_TYP_CD' AND CD = T.APV_LN_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) APV_LN_TYP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'ENFC_SCOP_CD' AND CD = T.ENFC_SCOP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) ENFC_SCOP_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'DOC_KEEP_PRD_CD' AND CD = T.ENFC_DOC_KEEP_PRD_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) ENFC_DOC_KEEP_PRD_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'ENFC_STAT_CD' AND CD = T.ENFC_STAT_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) ENFC_STAT_NM,
			(SELECT RESC_VA FROM PT_RESC_B WHERE RESC_ID = (SELECT RESC_ID FROM PT_CD_B WHERE CLS_CD = 'REC_LST_TYP_CD' AND CD = T.REC_LST_TYP_CD) AND LANG_TYP_CD = NVL(#{queryLang, jdbcType=VARCHAR},'ko')) REC_LST_TYP_NM,
			</if>
		</trim>
		FROM AP_${storage}_B T<if test="apvrRoleCdList != null">, AP_${storage}_APV_LN_D A</if><if test="(pichTypCd != null and pichTypCd != '')">, AP_${storage}_PICH_D B</if><if test="(recvDeptId != null and recvDeptId != '')">, AP_${storage}_SEND_D C</if><if test="(refApvNo != null and refApvNo != '')">, AP_${storage}_REF_DOC_L D</if><if test="(pubBxDeptId != null and pubBxDeptId != '')">, AP_${storage}_PUB_BX_D E</if><if test="(bodyHtml != null and bodyHtml != '')">, AP_${storage}_BODY_L F</if><if test="(refVwrUid != null and refVwrUid != '') or refVwrUidList != null">, AP_${storage}_REF_VW_D G</if><if test="(hasOpinYn != null and hasOpinYn != '')">, AP_${storage}_APV_LN_D H</if>
		<where>
			<if test="apvNo != null">AND T.APV_NO = #{apvNo, jdbcType=BIGINT}</if>
			<if test="docNo != null and docNo != ''">AND T.DOC_NO = #{docNo, jdbcType=NVARCHAR}</if>
			<if test="compId != null and compId != ''">AND T.COMP_ID = #{compId, jdbcType=VARCHAR}</if>
			<if test="docSubj != null and docSubj != ''">AND T.DOC_SUBJ LIKE '%' || #{docSubj, jdbcType=NVARCHAR} || '%'</if>
			<if test="formId != null and formId != ''">AND T.FORM_ID = #{formId, jdbcType=VARCHAR}</if>
			<if test="formNm != null and formNm != ''">AND T.FORM_NM LIKE '%' || #{formNm, jdbcType=NVARCHAR} || '%'</if>
			<if test="docStatCd != null and docStatCd != ''">AND T.DOC_STAT_CD = #{docStatCd, jdbcType=VARCHAR}</if>
			<if test="docProsStatCd != null and docProsStatCd != ''">AND T.DOC_PROS_STAT_CD = #{docProsStatCd, jdbcType=VARCHAR}</if>
			<if test="docTypCd != null and docTypCd != ''">AND T.DOC_TYP_CD = #{docTypCd, jdbcType=VARCHAR}</if>
			<if test="allReadYn != null and allReadYn != ''">AND T.ALL_READ_YN = #{allReadYn, jdbcType=VARCHAR}</if>
			<if test="regRecLstRegYn != null and regRecLstRegYn != ''">AND T.REG_REC_LST_REG_YN = #{regRecLstRegYn, jdbcType=VARCHAR}</if>
			<if test="regRecLstRegSkedYmd != null and regRecLstRegSkedYmd != ''">AND T.REG_REC_LST_REG_SKED_YMD &lt; TO_DATE(#{regRecLstRegSkedYmd, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')</if>
			<if test="clsInfoId != null and clsInfoId != ''">AND T.CLS_INFO_ID = #{clsInfoId, jdbcType=VARCHAR}</if>
			<if test="psnClsInfoId != null and psnClsInfoId != '' and psnClsInfoId != 'Uncategorized'">AND T.PSN_CLS_INFO_ID = #{psnClsInfoId, jdbcType=VARCHAR}</if>
			<if test="psnClsInfoId == 'Uncategorized'">AND T.PSN_CLS_INFO_ID IS NULL</if>
			<if test="makrUid != null and makrUid != ''">AND T.MAKR_UID = #{makrUid, jdbcType=VARCHAR}</if>
			<if test="makrNm != null and makrNm != ''">AND T.MAKR_NM LIKE '%' || #{makrNm, jdbcType=NVARCHAR} || '%'</if>
			<if test="makDeptId != null and makDeptId != ''">AND T.MAK_DEPT_ID = #{makDeptId, jdbcType=VARCHAR}</if>
			<if test="makDeptNm != null and makDeptNm != ''">AND T.MAK_DEPT_NM LIKE '%' || #{makDeptNm, jdbcType=NVARCHAR} || '%'</if>
			<if test="curApvrNm != null and curApvrNm != ''">AND T.CUR_APVR_NM LIKE '%' || #{curApvrNm, jdbcType=NVARCHAR} || '%'</if>
			<if test="cmplrNm != null and cmplrNm != ''">AND T.CMPLR_NM LIKE '%' || #{cmplrNm, jdbcType=NVARCHAR} || '%'</if>
			<if test="enfcScopCd != null and enfcScopCd != ''">AND T.ENFC_SCOP_CD = #{enfcScopCd, jdbcType=VARCHAR}</if>
			<if test="enfcStatCd != null and enfcStatCd != ''">AND T.ENFC_STAT_CD = #{enfcStatCd, jdbcType=VARCHAR}</if>
			<if test="recLstTypCd != null and recLstTypCd != ''">AND T.REC_LST_TYP_CD = #{recLstTypCd, jdbcType=VARCHAR}</if>
			<if test="recLstDeptId != null and recLstDeptId != ''">AND T.REC_LST_DEPT_ID = #{recLstDeptId, jdbcType=VARCHAR}</if>
			<if test="xmlTypId != null and xmlTypId != ''">AND T.XML_TYP_ID = #{xmlTypId, jdbcType=VARCHAR}</if>
			<if test="docProsStatCdList != null">AND T.DOC_PROS_STAT_CD IN ( <foreach collection="docProsStatCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="apvNoList != null">AND T.APV_NO IN ( <foreach collection="apvNoList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="apvNoNotInList != null">AND T.APV_NO NOT IN ( <foreach collection="apvNoNotInList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="srchDocNo != null and srchDocNo != ''">AND T.DOC_NO LIKE '%' || #{srchDocNo, jdbcType=VARCHAR} || '%'</if>
			<if test="srchRecvDocNo != null and srchRecvDocNo != ''">AND T.RECV_DOC_NO LIKE '%' || #{srchRecvDocNo, jdbcType=VARCHAR} || '%'</if>
			<if test="seculCdList != null and (bxId == 'regRecLst' or bxId == 'recvRecLst' or bxId == 'distRecLst' or bxId == 'pubBx')">AND T.SECUL_CD IN ( <foreach collection="seculCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="recLstDeptIdList != null">AND T.REC_LST_DEPT_ID IN ( <foreach collection="recLstDeptIdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="makDeptIdList != null">AND T.MAK_DEPT_ID IN ( <foreach collection="makDeptIdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="durCat == 'makDt' and durStrtDt != null and durStrtDt != ''"><![CDATA[AND T.MAK_DT >= TO_DATE(#{durStrtDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="durCat == 'makDt' and durEndDt != null and durEndDt != ''"><![CDATA[AND T.MAK_DT <= TO_DATE(#{durEndDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="durCat == 'cmplDt' and durStrtDt != null and durStrtDt != ''"><![CDATA[AND T.CMPL_DT >= TO_DATE(#{durStrtDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="durCat == 'cmplDt' and durEndDt != null and durEndDt != ''"><![CDATA[AND T.CMPL_DT <= TO_DATE(#{durEndDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="durCat == 'recvDt' and durStrtDt != null and durStrtDt != ''"><![CDATA[AND T.RECV_DT >= TO_DATE(#{durStrtDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="durCat == 'recvDt' and durEndDt != null and durEndDt != ''"><![CDATA[AND T.RECV_DT <= TO_DATE(#{durEndDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="apvrRoleCdList != null">
				AND T.APV_NO = A.APV_NO
				<if test="apvrUid == null and apvrUidList == null and apvDeptId != null and apvDeptId != ''">AND A.APV_DEPT_ID = #{apvDeptId, jdbcType=VARCHAR}</if>
				<if test="apvDeptId == null and apvDeptIdList == null and apvrUid != null and apvrUid != ''">AND A.APVR_UID = #{apvrUid, jdbcType=VARCHAR}</if>
				<if test="apvDeptId == null and apvDeptIdList == null and apvrUidList != null">AND A.APVR_UID IN <foreach collection="apvrUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="apvDeptId != null and apvDeptId != '' and apvrUid != null and apvrUid != ''">AND ((A.APVR_ROLE_CD = 'deptInfm'<if test="seculCdList != null"> AND T.SECUL_CD IN ( <foreach collection="seculCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if> AND A.APV_DEPT_ID = #{apvDeptId, jdbcType=VARCHAR}) OR A.APVR_UID = #{apvrUid, jdbcType=VARCHAR})</if>
				<if test="apvDeptId != null and apvDeptId != '' and apvrUidList != null">AND ((A.APVR_ROLE_CD = 'deptInfm'<if test="seculCdList != null"> AND T.SECUL_CD IN ( <foreach collection="seculCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if> AND A.APV_DEPT_ID = #{apvDeptId, jdbcType=VARCHAR}) OR A.APVR_UID IN <foreach collection="apvrUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach>)</if>
				<if test="apvDeptIdList != null and apvrUid != null and apvrUid != ''">AND ((A.APVR_ROLE_CD = 'deptInfm'<if test="seculCdList != null"> AND T.SECUL_CD IN ( <foreach collection="seculCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if> AND A.APV_DEPT_ID IN <foreach collection="apvDeptIdList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach>) OR A.APVR_UID = #{apvrUid, jdbcType=VARCHAR})</if>
				<if test="apvDeptIdList != null and apvrUidList != null">AND ((A.APVR_ROLE_CD = 'deptInfm'<if test="seculCdList != null"> AND T.SECUL_CD IN ( <foreach collection="seculCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if> AND A.APV_DEPT_ID IN <foreach collection="apvDeptIdList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach>) OR A.APVR_UID IN <foreach collection="apvrUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach>)</if>
				<if test="apvStatCdList != null">AND A.APV_STAT_CD IN <foreach collection="apvStatCdList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="apvrRoleCdList != null">AND A.APVR_ROLE_CD IN <foreach collection="apvrRoleCdList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="apvLnPno != null and apvLnPno != ''">AND A.APV_LN_PNO = #{apvLnPno, jdbcType=VARCHAR}</if>
				<if test="pichApntYn != null and pichApntYn != ''">AND A.PICH_APNT_YN = #{pichApntYn, jdbcType=VARCHAR}</if>
			</if>
			<if test="(pichTypCd != null and pichTypCd != '')">
				AND T.APV_NO = B.APV_NO
				<if test="pichTypCd != null and pichTypCd != ''">AND B.PICH_TYP_CD = #{pichTypCd, jdbcType=VARCHAR}</if>
				<if test="hdlStatCd != null and hdlStatCd != ''">AND B.HDL_STAT_CD = #{hdlStatCd, jdbcType=VARCHAR}</if>
				<if test="pichUid != null and pichUid != ''">AND B.PICH_UID = #{pichUid, jdbcType=VARCHAR}</if>
				<if test="pichUidList != null">AND B.PICH_UID IN <foreach collection="pichUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="pichDeptId != null and pichDeptId != ''">AND B.PICH_DEPT_ID = #{pichDeptId, jdbcType=VARCHAR}</if>
			</if>
			<if test="(recvDeptId != null and recvDeptId != '')">
				AND T.APV_NO = C.APV_NO
				<if test="hdlStatCd != null and hdlStatCd != ''">AND C.HDL_STAT_CD = #{hdlStatCd, jdbcType=VARCHAR}</if>
				<if test="recvDeptId != null and recvDeptId != ''">AND C.RECV_DEPT_ID = #{recvDeptId, jdbcType=VARCHAR}</if>
			</if>
			<if test="(refApvNo != null and refApvNo != '')">
				AND T.APV_NO = D.REF_APV_NO
				<if test="refApvNo != null and refApvNo != ''">AND D.APV_NO = #{refApvNo, jdbcType=BIGINT}</if>
				<if test="refDocHstNo != null and refDocHstNo != ''">AND D.REF_DOC_HST_NO = #{refDocHstNo, jdbcType=INTEGER}</if>
			</if>
			<if test="(pubBxDeptId != null and pubBxDeptId != '')">
				AND T.APV_NO = E.APV_NO
				<if test="pubBxDeptId != null and pubBxDeptId != ''">AND E.PUB_BX_DEPT_ID = #{pubBxDeptId, jdbcType=VARCHAR}</if>
				<if test="pubBxEndYmd != null and pubBxEndYmd != ''"><![CDATA[AND E.PUB_BX_END_YMD > TO_DATE(#{pubBxEndYmd, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
				<if test="durCat == 'pubBxDt' and durStrtDt != null and durStrtDt != ''"><![CDATA[AND E.PUB_BX_DT >= #{durStrtDt, jdbcType=VARCHAR}]]></if>
				<if test="durCat == 'pubBxDt' and durEndDt != null and durEndDt != ''"><![CDATA[AND E.PUB_BX_DT <= #{durEndDt, jdbcType=VARCHAR}]]></if>
			</if>
			<if test="(bodyHtml != null and bodyHtml != '')">
				AND T.APV_NO = F.APV_NO AND T.BODY_HST_NO = F.BODY_HST_NO
				<if test="bodyHtml != null and bodyHtml != ''">AND F.BODY_HTML LIKE '%' || #{bodyHtml, jdbcType=VARCHAR} || '%'</if>
			</if>
			<if test="(refVwrUid != null and refVwrUid != '') or refVwrUidList != null">
				AND T.APV_NO = G.APV_NO
				<if test="refVwrUid != null and refVwrUid != ''">AND G.REF_VWR_UID = #{refVwrUid, jdbcType=VARCHAR}</if>
				<if test="refVwrUidList != null">AND G.REF_VWR_UID IN <foreach collection="refVwrUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="refVwStatCd != null and refVwStatCd != ''">AND G.REF_VW_STAT_CD = #{refVwStatCd, jdbcType=VARCHAR}</if>
			</if>
			<if test="(hasOpinYn != null and hasOpinYn != '')">
				AND T.APV_NO = H.APV_NO
				AND LENGTH(H.APV_OPIN_CONT) > 1 AND H.APVR_DEPT_YN = 'N'
				<if test="apvrUid != null and apvrUid != ''">AND H.APVR_UID = #{apvrUid, jdbcType=VARCHAR}</if>
				<if test="apvrUidList != null">AND H.APVR_UID IN <foreach collection="apvrUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="apvrNm != null and apvrNm != ''">AND H.APVR_NM LIKE '%' || #{apvrNm, jdbcType=VARCHAR} || '%'</if>
			</if>
			<if test="whereSqllet != null and whereSqllet != ''">${whereSqllet}</if>
		</where>
		<if test="orderBy != null">ORDER BY ${orderBy}</if>
		<if test="orderBy == null">ORDER BY T.APV_NO</if>
		<if test="pageNo != null and pageRowCnt != null">
		<![CDATA[) N WHERE ROWNUM <= #{pageNo, jdbcType=NUMERIC} * #{pageRowCnt, jdbcType=NUMERIC}) WHERE RNUM > (#{pageNo, jdbcType=NUMERIC} - 1) * #{pageRowCnt, jdbcType=NUMERIC}]]> ) M
		</if>
	</select>

	<select id="countApOngdB" resultType="Integer" parameterType="ApOngdBVo" >
		/* com.innobiz.orange.web.ap.dao.ApOngdBDao.countApOngdB */
		SELECT COUNT(*) CNT
		FROM AP_${storage}_B T<if test="apvrRoleCdList != null">, AP_${storage}_APV_LN_D A</if><if test="(pichTypCd != null and pichTypCd != '')">, AP_${storage}_PICH_D B</if><if test="(recvDeptId != null and recvDeptId != '')">, AP_${storage}_SEND_D C</if><if test="(refApvNo != null and refApvNo != '')">, AP_${storage}_REF_DOC_L D</if><if test="(pubBxDeptId != null and pubBxDeptId != '')">, AP_${storage}_PUB_BX_D E</if><if test="(bodyHtml != null and bodyHtml != '')">, AP_${storage}_BODY_L F</if><if test="(refVwrUid != null and refVwrUid != '') or refVwrUidList != null">, AP_${storage}_REF_VW_D G</if><if test="(hasOpinYn != null and hasOpinYn != '')">, AP_${storage}_APV_LN_D H</if>
		<where>
			<if test="apvNo != null">AND T.APV_NO = #{apvNo, jdbcType=BIGINT}</if>
			<if test="docNo != null and docNo != ''">AND T.DOC_NO = #{docNo, jdbcType=NVARCHAR}</if>
			<if test="compId != null and compId != ''">AND T.COMP_ID = #{compId, jdbcType=VARCHAR}</if>
			<if test="docSubj != null and docSubj != ''">AND T.DOC_SUBJ LIKE '%' || #{docSubj, jdbcType=NVARCHAR} || '%'</if>
			<if test="formId != null and formId != ''">AND T.FORM_ID = #{formId, jdbcType=VARCHAR}</if>
			<if test="formNm != null and formNm != ''">AND T.FORM_NM LIKE '%' || #{formNm, jdbcType=NVARCHAR} || '%'</if>
			<if test="docStatCd != null and docStatCd != ''">AND T.DOC_STAT_CD = #{docStatCd, jdbcType=VARCHAR}</if>
			<if test="docProsStatCd != null and docProsStatCd != ''">AND T.DOC_PROS_STAT_CD = #{docProsStatCd, jdbcType=VARCHAR}</if>
			<if test="docTypCd != null and docTypCd != ''">AND T.DOC_TYP_CD = #{docTypCd, jdbcType=VARCHAR}</if>
			<if test="allReadYn != null and allReadYn != ''">AND T.ALL_READ_YN = #{allReadYn, jdbcType=VARCHAR}</if>
			<if test="regRecLstRegYn != null and regRecLstRegYn != ''">AND T.REG_REC_LST_REG_YN = #{regRecLstRegYn, jdbcType=VARCHAR}</if>
			<if test="regRecLstRegSkedYmd != null and regRecLstRegSkedYmd != ''">AND T.REG_REC_LST_REG_SKED_YMD &lt; TO_DATE(#{regRecLstRegSkedYmd, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')</if>
			<if test="clsInfoId != null and clsInfoId != ''">AND T.CLS_INFO_ID = #{clsInfoId, jdbcType=VARCHAR}</if>
			<if test="psnClsInfoId != null and psnClsInfoId != '' and psnClsInfoId != 'Uncategorized'">AND T.PSN_CLS_INFO_ID = #{psnClsInfoId, jdbcType=VARCHAR}</if>
			<if test="psnClsInfoId == 'Uncategorized'">AND T.PSN_CLS_INFO_ID IS NULL</if>
			<if test="makrUid != null and makrUid != ''">AND T.MAKR_UID = #{makrUid, jdbcType=VARCHAR}</if>
			<if test="makrNm != null and makrNm != ''">AND T.MAKR_NM LIKE '%' || #{makrNm, jdbcType=NVARCHAR} || '%'</if>
			<if test="makDeptId != null and makDeptId != ''">AND T.MAK_DEPT_ID = #{makDeptId, jdbcType=VARCHAR}</if>
			<if test="makDeptNm != null and makDeptNm != ''">AND T.MAK_DEPT_NM LIKE '%' || #{makDeptNm, jdbcType=NVARCHAR} || '%'</if>
			<if test="curApvrNm != null and curApvrNm != ''">AND T.CUR_APVR_NM LIKE '%' || #{curApvrNm, jdbcType=NVARCHAR} || '%'</if>
			<if test="cmplrNm != null and cmplrNm != ''">AND T.CMPLR_NM LIKE '%' || #{cmplrNm, jdbcType=NVARCHAR} || '%'</if>
			<if test="enfcScopCd != null and enfcScopCd != ''">AND T.ENFC_SCOP_CD = #{enfcScopCd, jdbcType=VARCHAR}</if>
			<if test="enfcStatCd != null and enfcStatCd != ''">AND T.ENFC_STAT_CD = #{enfcStatCd, jdbcType=VARCHAR}</if>
			<if test="recLstTypCd != null and recLstTypCd != ''">AND T.REC_LST_TYP_CD = #{recLstTypCd, jdbcType=VARCHAR}</if>
			<if test="recLstDeptId != null and recLstDeptId != ''">AND T.REC_LST_DEPT_ID = #{recLstDeptId, jdbcType=VARCHAR}</if>
			<if test="xmlTypId != null and xmlTypId != ''">AND T.XML_TYP_ID = #{xmlTypId, jdbcType=VARCHAR}</if>
			<if test="docProsStatCdList != null">AND T.DOC_PROS_STAT_CD IN ( <foreach collection="docProsStatCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="apvNoList != null">AND T.APV_NO IN ( <foreach collection="apvNoList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="apvNoNotInList != null">AND T.APV_NO NOT IN ( <foreach collection="apvNoNotInList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="srchDocNo != null and srchDocNo != ''">AND T.DOC_NO LIKE '%' || #{srchDocNo, jdbcType=VARCHAR} || '%'</if>
			<if test="srchRecvDocNo != null and srchRecvDocNo != ''">AND T.RECV_DOC_NO LIKE '%' || #{srchRecvDocNo, jdbcType=VARCHAR} || '%'</if>
			<if test="seculCdList != null and (bxId == 'regRecLst' or bxId == 'recvRecLst' or bxId == 'distRecLst' or bxId == 'pubBx')">AND T.SECUL_CD IN ( <foreach collection="seculCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="recLstDeptIdList != null">AND T.REC_LST_DEPT_ID IN ( <foreach collection="recLstDeptIdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="makDeptIdList != null">AND T.MAK_DEPT_ID IN ( <foreach collection="makDeptIdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if>
			<if test="durCat == 'makDt' and durStrtDt != null and durStrtDt != ''"><![CDATA[AND T.MAK_DT >= TO_DATE(#{durStrtDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="durCat == 'makDt' and durEndDt != null and durEndDt != ''"><![CDATA[AND T.MAK_DT <= TO_DATE(#{durEndDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="durCat == 'cmplDt' and durStrtDt != null and durStrtDt != ''"><![CDATA[AND T.CMPL_DT >= TO_DATE(#{durStrtDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="durCat == 'cmplDt' and durEndDt != null and durEndDt != ''"><![CDATA[AND T.CMPL_DT <= TO_DATE(#{durEndDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="durCat == 'recvDt' and durStrtDt != null and durStrtDt != ''"><![CDATA[AND T.RECV_DT >= TO_DATE(#{durStrtDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="durCat == 'recvDt' and durEndDt != null and durEndDt != ''"><![CDATA[AND T.RECV_DT <= TO_DATE(#{durEndDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
			<if test="apvrRoleCdList != null">
				AND T.APV_NO = A.APV_NO
				<if test="apvrUid == null and apvrUidList == null and apvDeptId != null and apvDeptId != ''">AND A.APV_DEPT_ID = #{apvDeptId, jdbcType=VARCHAR}</if>
				<if test="apvDeptId == null and apvDeptIdList == null and apvrUid != null and apvrUid != ''">AND A.APVR_UID = #{apvrUid, jdbcType=VARCHAR}</if>
				<if test="apvDeptId == null and apvDeptIdList == null and apvrUidList != null">AND A.APVR_UID IN <foreach collection="apvrUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="apvDeptId != null and apvDeptId != '' and apvrUid != null and apvrUid != ''">AND ((A.APVR_ROLE_CD = 'deptInfm'<if test="seculCdList != null"> AND T.SECUL_CD IN ( <foreach collection="seculCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if> AND A.APV_DEPT_ID = #{apvDeptId, jdbcType=VARCHAR}) OR A.APVR_UID = #{apvrUid, jdbcType=VARCHAR})</if>
				<if test="apvDeptId != null and apvDeptId != '' and apvrUidList != null">AND ((A.APVR_ROLE_CD = 'deptInfm'<if test="seculCdList != null"> AND T.SECUL_CD IN ( <foreach collection="seculCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if> AND A.APV_DEPT_ID = #{apvDeptId, jdbcType=VARCHAR}) OR A.APVR_UID IN <foreach collection="apvrUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach>)</if>
				<if test="apvDeptIdList != null and apvrUid != null and apvrUid != ''">AND ((A.APVR_ROLE_CD = 'deptInfm'<if test="seculCdList != null"> AND T.SECUL_CD IN ( <foreach collection="seculCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if> AND A.APV_DEPT_ID IN <foreach collection="apvDeptIdList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach>) OR A.APVR_UID = #{apvrUid, jdbcType=VARCHAR})</if>
				<if test="apvDeptIdList != null and apvrUidList != null">AND ((A.APVR_ROLE_CD = 'deptInfm'<if test="seculCdList != null"> AND T.SECUL_CD IN ( <foreach collection="seculCdList" item="item" index="index" separator=",">#{item, jdbcType=VARCHAR}</foreach> )</if> AND A.APV_DEPT_ID IN <foreach collection="apvDeptIdList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach>) OR A.APVR_UID IN <foreach collection="apvrUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach>)</if>
				<if test="apvStatCdList != null">AND A.APV_STAT_CD IN <foreach collection="apvStatCdList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="apvrRoleCdList != null">AND A.APVR_ROLE_CD IN <foreach collection="apvrRoleCdList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="apvLnPno != null and apvLnPno != ''">AND A.APV_LN_PNO = #{apvLnPno, jdbcType=VARCHAR}</if>
				<if test="pichApntYn != null and pichApntYn != ''">AND A.PICH_APNT_YN = #{pichApntYn, jdbcType=VARCHAR}</if>
			</if>
			<if test="(pichTypCd != null and pichTypCd != '')">
				AND T.APV_NO = B.APV_NO
				<if test="pichTypCd != null and pichTypCd != ''">AND B.PICH_TYP_CD = #{pichTypCd, jdbcType=VARCHAR}</if>
				<if test="hdlStatCd != null and hdlStatCd != ''">AND B.HDL_STAT_CD = #{hdlStatCd, jdbcType=VARCHAR}</if>
				<if test="pichUid != null and pichUid != ''">AND B.PICH_UID = #{pichUid, jdbcType=VARCHAR}</if>
				<if test="pichUidList != null">AND B.PICH_UID IN <foreach collection="pichUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="pichDeptId != null and pichDeptId != ''">AND B.PICH_DEPT_ID = #{pichDeptId, jdbcType=VARCHAR}</if>
			</if>
			<if test="(recvDeptId != null and recvDeptId != '')">
				AND T.APV_NO = C.APV_NO
				<if test="hdlStatCd != null and hdlStatCd != ''">AND C.HDL_STAT_CD = #{hdlStatCd, jdbcType=VARCHAR}</if>
				<if test="recvDeptId != null and recvDeptId != ''">AND C.RECV_DEPT_ID = #{recvDeptId, jdbcType=VARCHAR}</if>
			</if>
			<if test="(refApvNo != null and refApvNo != '')">
				AND T.APV_NO = D.REF_APV_NO
				<if test="refApvNo != null and refApvNo != ''">AND D.APV_NO = #{refApvNo, jdbcType=BIGINT}</if>
				<if test="refDocHstNo != null and refDocHstNo != ''">AND D.REF_DOC_HST_NO = #{refDocHstNo, jdbcType=INTEGER}</if>
			</if>
			<if test="(pubBxDeptId != null and pubBxDeptId != '')">
				AND T.APV_NO = E.APV_NO
				<if test="pubBxDeptId != null and pubBxDeptId != ''">AND E.PUB_BX_DEPT_ID = #{pubBxDeptId, jdbcType=VARCHAR}</if>
				<if test="pubBxEndYmd != null and pubBxEndYmd != ''"><![CDATA[AND E.PUB_BX_END_YMD > TO_DATE(#{pubBxEndYmd, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS')]]></if>
				<if test="durCat == 'pubBxDt' and durStrtDt != null and durStrtDt != ''"><![CDATA[AND E.PUB_BX_DT >= #{durStrtDt, jdbcType=VARCHAR}]]></if>
				<if test="durCat == 'pubBxDt' and durEndDt != null and durEndDt != ''"><![CDATA[AND E.PUB_BX_DT <= #{durEndDt, jdbcType=VARCHAR}]]></if>
			</if>
			<if test="(bodyHtml != null and bodyHtml != '')">
				AND T.APV_NO = F.APV_NO AND T.BODY_HST_NO = F.BODY_HST_NO
				<if test="bodyHtml != null and bodyHtml != ''">AND F.BODY_HTML LIKE '%' || #{bodyHtml, jdbcType=VARCHAR} || '%'</if>
			</if>
			<if test="(refVwrUid != null and refVwrUid != '') or refVwrUidList != null">
				AND T.APV_NO = G.APV_NO
				<if test="refVwrUid != null and refVwrUid != ''">AND G.REF_VWR_UID = #{refVwrUid, jdbcType=VARCHAR}</if>
				<if test="refVwrUidList != null">AND G.REF_VWR_UID IN <foreach collection="refVwrUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="refVwStatCd != null and refVwStatCd != ''">AND G.REF_VW_STAT_CD = #{refVwStatCd, jdbcType=VARCHAR}</if>
			</if>
			<if test="(hasOpinYn != null and hasOpinYn != '')">
				AND T.APV_NO = H.APV_NO
				AND LENGTH(H.APV_OPIN_CONT) > 1 AND H.APVR_DEPT_YN = 'N'
				<if test="apvrUid != null and apvrUid != ''">AND H.APVR_UID = #{apvrUid, jdbcType=VARCHAR}</if>
				<if test="apvrUidList != null">AND H.APVR_UID IN <foreach collection="apvrUidList" item="item" index="index" open="(" separator="," close=")">#{item, jdbcType=VARCHAR}</foreach></if>
				<if test="apvrNm != null and apvrNm != ''">AND H.APVR_NM LIKE '%' || #{apvrNm, jdbcType=VARCHAR} || '%'</if>
			</if>
			<if test="whereSqllet != null and whereSqllet != ''">${whereSqllet}</if>
		</where>
	</select>

	<insert id="insertApOngdB" parameterType="ApOngdBVo" >
		/* com.innobiz.orange.web.ap.dao.ApOngdBDao.insertApOngdB */
		INSERT INTO AP_${storage}_B
		<trim prefix="(" suffix=")" suffixOverrides=",">
			APV_NO,
			DOC_NO,
			COMP_ID,
			DOC_SUBJ,
			ATT_FILE_YN,
			FORM_ID,
			FORM_SEQ,
			FORM_APV_LN_TYP_CD,
			FORM_NM,
			BODY_HGHT_PX,
			FORM_WDTH_TYP_CD,
			DOC_LANG_TYP_CD,
			DOC_STAT_CD,
			DOC_PROS_STAT_CD,
			DOC_KEEP_PRD_CD,
			DOC_TYP_CD,
			SECUL_CD,
			UGNT_DOC_YN,
			ALL_READ_YN,
			REG_REC_LST_REG_YN,
			REG_REC_LST_REG_SKED_YMD,
			SECU_DOC_YN,
			DOC_PW_ENC,
			SENDR_NM_RESC_ID,
			SENDR_NM_RESC_NM,
			OFSE_PATH,
			OFSE_HGHT_PX,
			CLS_INFO_ID,
			PSN_CLS_INFO_ID,
			APV_LN_TYP_CD,
			BODY_HST_NO,
			ATT_HST_NO,
			RECV_DEPT_HST_NO,
			REF_DOC_HST_NO,
			MAK_DT,
			MAKR_UID,
			MAKR_NM,
			MAK_DEPT_ID,
			MAK_DEPT_NM,
			CUR_APVR_ID,
			CUR_APVR_NM,
			CUR_APVR_DEPT_YN,
			CMPL_DT,
			CMPLR_UID,
			CMPLR_NM,
			ENFC_SCOP_CD,
			ENFC_DT,
			RECV_DOC_NO,
			RECV_DT,
			ENFC_DOC_KEEP_PRD_CD,
			ENFC_STAT_CD,
			SEND_INST_ID,
			SEND_INST_NM,
			REC_LST_TYP_CD,
			REC_LST_DEPT_ID,
			ORGN_APV_NO,
			TRX_APV_NO,
			INTG_TYP_CD,
			INTG_NO,
			SENDR_NM_ORG_ID,
			SEND_WITH_REF_DOC_YN,
			FOOTER_VA,
			XML_TYP_ID,
		</trim>
		<trim prefix="VALUES (" suffix=")" suffixOverrides="," >
			#{apvNo, jdbcType=BIGINT},
			#{docNo, jdbcType=NVARCHAR},
			#{compId, jdbcType=VARCHAR},
			#{docSubj, jdbcType=NVARCHAR},
			#{attFileYn, jdbcType=VARCHAR},
			#{formId, jdbcType=VARCHAR},
			#{formSeq, jdbcType=INTEGER},
			#{formApvLnTypCd, jdbcType=VARCHAR},
			#{formNm, jdbcType=NVARCHAR},
			<if test="bodyHghtPx == ''">NULL</if><if test="bodyHghtPx != ''">#{bodyHghtPx, jdbcType=INTEGER}</if>,
			#{formWdthTypCd, jdbcType=VARCHAR},
			#{docLangTypCd, jdbcType=VARCHAR},
			#{docStatCd, jdbcType=VARCHAR},
			#{docProsStatCd, jdbcType=VARCHAR},
			#{docKeepPrdCd, jdbcType=VARCHAR},
			#{docTypCd, jdbcType=VARCHAR},
			#{seculCd, jdbcType=VARCHAR},
			#{ugntDocYn, jdbcType=VARCHAR},
			#{allReadYn, jdbcType=VARCHAR},
			#{regRecLstRegYn, jdbcType=VARCHAR},
			<if test="regRecLstRegSkedYmd == 'sysdate'">SYSDATE,</if><if test="regRecLstRegSkedYmd == null or regRecLstRegSkedYmd == ''">NULL,</if>
			<if test="regRecLstRegSkedYmd != null and regRecLstRegSkedYmd != '' and regRecLstRegSkedYmd != 'sysdate'">TO_DATE(#{regRecLstRegSkedYmd, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS'),</if>
			#{secuDocYn, jdbcType=VARCHAR},
			#{docPwEnc, jdbcType=NVARCHAR},
			#{sendrNmRescId, jdbcType=VARCHAR},
			#{sendrNmRescNm, jdbcType=NVARCHAR},
			#{ofsePath, jdbcType=VARCHAR},
			<if test="ofseHghtPx == ''">NULL</if><if test="ofseHghtPx != ''">#{ofseHghtPx, jdbcType=INTEGER}</if>,
			#{clsInfoId, jdbcType=VARCHAR},
			#{psnClsInfoId, jdbcType=VARCHAR},
			#{apvLnTypCd, jdbcType=VARCHAR},
			#{bodyHstNo, jdbcType=INTEGER},
			#{attHstNo, jdbcType=INTEGER},
			#{recvDeptHstNo, jdbcType=INTEGER},
			#{refDocHstNo, jdbcType=INTEGER},
			<if test="makDt == 'sysdate'">SYSDATE,</if><if test="makDt == null or makDt == ''">NULL,</if>
			<if test="makDt != null and makDt != '' and makDt != 'sysdate'">TO_DATE(#{makDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS'),</if>
			#{makrUid, jdbcType=VARCHAR},
			#{makrNm, jdbcType=NVARCHAR},
			#{makDeptId, jdbcType=VARCHAR},
			#{makDeptNm, jdbcType=NVARCHAR},
			#{curApvrId, jdbcType=VARCHAR},
			#{curApvrNm, jdbcType=NVARCHAR},
			#{curApvrDeptYn, jdbcType=VARCHAR},
			<if test="cmplDt == 'sysdate'">SYSDATE,</if><if test="cmplDt == null or cmplDt == ''">NULL,</if>
			<if test="cmplDt != null and cmplDt != '' and cmplDt != 'sysdate'">TO_DATE(#{cmplDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS'),</if>
			#{cmplrUid, jdbcType=VARCHAR},
			#{cmplrNm, jdbcType=NVARCHAR},
			#{enfcScopCd, jdbcType=VARCHAR},
			<if test="enfcDt == 'sysdate'">SYSDATE,</if><if test="enfcDt == null or enfcDt == ''">NULL,</if>
			<if test="enfcDt != null and enfcDt != '' and enfcDt != 'sysdate'">TO_DATE(#{enfcDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS'),</if>
			#{recvDocNo, jdbcType=NVARCHAR},
			<if test="recvDt == 'sysdate'">SYSDATE,</if><if test="recvDt == null or recvDt == ''">NULL,</if>
			<if test="recvDt != null and recvDt != '' and recvDt != 'sysdate'">TO_DATE(#{recvDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS'),</if>
			#{enfcDocKeepPrdCd, jdbcType=VARCHAR},
			#{enfcStatCd, jdbcType=VARCHAR},
			#{sendInstId, jdbcType=VARCHAR},
			#{sendInstNm, jdbcType=NVARCHAR},
			#{recLstTypCd, jdbcType=VARCHAR},
			#{recLstDeptId, jdbcType=VARCHAR},
			<if test="orgnApvNo == ''">NULL</if><if test="orgnApvNo != ''">#{orgnApvNo, jdbcType=BIGINT}</if>,
			<if test="trxApvNo == ''">NULL</if><if test="trxApvNo != ''">#{trxApvNo, jdbcType=BIGINT}</if>,
			#{intgTypCd, jdbcType=VARCHAR},
			<if test="intgNo == ''">NULL</if><if test="intgNo != ''">#{intgNo, jdbcType=BIGINT}</if>,
			#{sendrNmOrgId, jdbcType=VARCHAR},
			#{sendWithRefDocYn, jdbcType=VARCHAR},
			#{footerVa, jdbcType=NVARCHAR},
			#{xmlTypId, jdbcType=VARCHAR},
		</trim>
	</insert>

	<update id="updateApOngdB" parameterType="ApOngdBVo" >
		/* com.innobiz.orange.web.ap.dao.ApOngdBDao.updateApOngdB */
		UPDATE AP_${storage}_B
		<set>
			<if test="apvNo != null">APV_NO = #{apvNo, jdbcType=BIGINT},</if>
			<if test="docNo != null">DOC_NO = #{docNo, jdbcType=NVARCHAR},</if>
			<if test="compId != null">COMP_ID = #{compId, jdbcType=VARCHAR},</if>
			<if test="docSubj != null">DOC_SUBJ = #{docSubj, jdbcType=NVARCHAR},</if>
			<if test="attFileYn != null">ATT_FILE_YN = #{attFileYn, jdbcType=VARCHAR},</if>
			<if test="formId != null">FORM_ID = #{formId, jdbcType=VARCHAR},</if>
			<if test="formSeq != null">FORM_SEQ = #{formSeq, jdbcType=INTEGER},</if>
			<if test="formApvLnTypCd != null">FORM_APV_LN_TYP_CD = #{formApvLnTypCd, jdbcType=VARCHAR},</if>
			<if test="formNm != null">FORM_NM = #{formNm, jdbcType=NVARCHAR},</if>
			<if test="bodyHghtPx != null">BODY_HGHT_PX = <if test="bodyHghtPx == ''">NULL</if><if test="bodyHghtPx != ''">#{bodyHghtPx, jdbcType=INTEGER}</if>,</if>
			<if test="formWdthTypCd != null">FORM_WDTH_TYP_CD = #{formWdthTypCd, jdbcType=VARCHAR},</if>
			<if test="docLangTypCd != null">DOC_LANG_TYP_CD = #{docLangTypCd, jdbcType=VARCHAR},</if>
			<if test="docStatCd != null">DOC_STAT_CD = #{docStatCd, jdbcType=VARCHAR},</if>
			<if test="docProsStatCd != null">DOC_PROS_STAT_CD = #{docProsStatCd, jdbcType=VARCHAR},</if>
			<if test="docKeepPrdCd != null">DOC_KEEP_PRD_CD = #{docKeepPrdCd, jdbcType=VARCHAR},</if>
			<if test="docTypCd != null">DOC_TYP_CD = #{docTypCd, jdbcType=VARCHAR},</if>
			<if test="seculCd != null">SECUL_CD = #{seculCd, jdbcType=VARCHAR},</if>
			<if test="ugntDocYn != null">UGNT_DOC_YN = #{ugntDocYn, jdbcType=VARCHAR},</if>
			<if test="allReadYn != null">ALL_READ_YN = #{allReadYn, jdbcType=VARCHAR},</if>
			<if test="regRecLstRegYn != null">REG_REC_LST_REG_YN = #{regRecLstRegYn, jdbcType=VARCHAR},</if>
			<if test="regRecLstRegSkedYmd != null">
				<if test="regRecLstRegSkedYmd == 'sysdate'">REG_REC_LST_REG_SKED_YMD = SYSDATE,</if>
				<if test="regRecLstRegSkedYmd == ''">REG_REC_LST_REG_SKED_YMD = NULL,</if>
				<if test="regRecLstRegSkedYmd != '' and regRecLstRegSkedYmd != 'sysdate'">REG_REC_LST_REG_SKED_YMD = TO_DATE(#{regRecLstRegSkedYmd, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS'),</if>
			</if>
			<if test="secuDocYn != null">SECU_DOC_YN = #{secuDocYn, jdbcType=VARCHAR},</if>
			<if test="docPwEnc != null">DOC_PW_ENC = #{docPwEnc, jdbcType=NVARCHAR},</if>
			<if test="sendrNmRescId != null">SENDR_NM_RESC_ID = #{sendrNmRescId, jdbcType=VARCHAR},</if>
			<if test="sendrNmRescNm != null">SENDR_NM_RESC_NM = #{sendrNmRescNm, jdbcType=NVARCHAR},</if>
			<if test="ofsePath != null">OFSE_PATH = #{ofsePath, jdbcType=VARCHAR},</if>
			<if test="ofseHghtPx != null">OFSE_HGHT_PX = <if test="ofseHghtPx == ''">NULL</if><if test="ofseHghtPx != ''">#{ofseHghtPx, jdbcType=INTEGER}</if>,</if>
			<if test="clsInfoId != null">CLS_INFO_ID = #{clsInfoId, jdbcType=VARCHAR},</if>
			<if test="psnClsInfoId != null">PSN_CLS_INFO_ID = #{psnClsInfoId, jdbcType=VARCHAR},</if>
			<if test="apvLnTypCd != null">APV_LN_TYP_CD = #{apvLnTypCd, jdbcType=VARCHAR},</if>
			<if test="bodyHstNo != null">BODY_HST_NO = #{bodyHstNo, jdbcType=INTEGER},</if>
			<if test="attHstNo != null">ATT_HST_NO = #{attHstNo, jdbcType=INTEGER},</if>
			<if test="recvDeptHstNo != null">RECV_DEPT_HST_NO = #{recvDeptHstNo, jdbcType=INTEGER},</if>
			<if test="refDocHstNo != null">REF_DOC_HST_NO = #{refDocHstNo, jdbcType=INTEGER},</if>
			<if test="makDt != null">
				<if test="makDt == 'sysdate'">MAK_DT = SYSDATE,</if>
				<if test="makDt == ''">MAK_DT = NULL,</if>
				<if test="makDt != '' and makDt != 'sysdate'">MAK_DT = TO_DATE(#{makDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS'),</if>
			</if>
			<if test="makrUid != null">MAKR_UID = #{makrUid, jdbcType=VARCHAR},</if>
			<if test="makrNm != null">MAKR_NM = #{makrNm, jdbcType=NVARCHAR},</if>
			<if test="makDeptId != null">MAK_DEPT_ID = #{makDeptId, jdbcType=VARCHAR},</if>
			<if test="makDeptNm != null">MAK_DEPT_NM = #{makDeptNm, jdbcType=NVARCHAR},</if>
			<if test="curApvrId != null">CUR_APVR_ID = #{curApvrId, jdbcType=VARCHAR},</if>
			<if test="curApvrNm != null">CUR_APVR_NM = #{curApvrNm, jdbcType=NVARCHAR},</if>
			<if test="curApvrDeptYn != null">CUR_APVR_DEPT_YN = #{curApvrDeptYn, jdbcType=VARCHAR},</if>
			<if test="cmplDt != null">
				<if test="cmplDt == 'sysdate'">CMPL_DT = SYSDATE,</if>
				<if test="cmplDt == ''">CMPL_DT = NULL,</if>
				<if test="cmplDt != '' and cmplDt != 'sysdate'">CMPL_DT = TO_DATE(#{cmplDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS'),</if>
			</if>
			<if test="cmplrUid != null">CMPLR_UID = #{cmplrUid, jdbcType=VARCHAR},</if>
			<if test="cmplrNm != null">CMPLR_NM = #{cmplrNm, jdbcType=NVARCHAR},</if>
			<if test="enfcScopCd != null">ENFC_SCOP_CD = #{enfcScopCd, jdbcType=VARCHAR},</if>
			<if test="enfcDt != null">
				<if test="enfcDt == 'sysdate'">ENFC_DT = SYSDATE,</if>
				<if test="enfcDt == ''">ENFC_DT = NULL,</if>
				<if test="enfcDt != '' and enfcDt != 'sysdate'">ENFC_DT = TO_DATE(#{enfcDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS'),</if>
			</if>
			<if test="recvDocNo != null">RECV_DOC_NO = #{recvDocNo, jdbcType=NVARCHAR},</if>
			<if test="recvDt != null">
				<if test="recvDt == 'sysdate'">RECV_DT = SYSDATE,</if>
				<if test="recvDt == ''">RECV_DT = NULL,</if>
				<if test="recvDt != '' and recvDt != 'sysdate'">RECV_DT = TO_DATE(#{recvDt, jdbcType=VARCHAR}, 'YYYY-MM-DD HH24:MI:SS'),</if>
			</if>
			<if test="enfcDocKeepPrdCd != null">ENFC_DOC_KEEP_PRD_CD = #{enfcDocKeepPrdCd, jdbcType=VARCHAR},</if>
			<if test="enfcStatCd != null">ENFC_STAT_CD = #{enfcStatCd, jdbcType=VARCHAR},</if>
			<if test="sendInstId != null">SEND_INST_ID = #{sendInstId, jdbcType=VARCHAR},</if>
			<if test="sendInstNm != null">SEND_INST_NM = #{sendInstNm, jdbcType=NVARCHAR},</if>
			<if test="recLstTypCd != null">REC_LST_TYP_CD = #{recLstTypCd, jdbcType=VARCHAR},</if>
			<if test="recLstDeptId != null">REC_LST_DEPT_ID = #{recLstDeptId, jdbcType=VARCHAR},</if>
			<if test="orgnApvNo != null">ORGN_APV_NO = <if test="orgnApvNo == ''">NULL</if><if test="orgnApvNo != ''">#{orgnApvNo, jdbcType=BIGINT}</if>,</if>
			<if test="trxApvNo != null">TRX_APV_NO = <if test="trxApvNo == ''">NULL</if><if test="trxApvNo != ''">#{trxApvNo, jdbcType=BIGINT}</if>,</if>
			<if test="intgTypCd != null">INTG_TYP_CD = #{intgTypCd, jdbcType=VARCHAR},</if>
			<if test="intgNo != null">INTG_NO = <if test="intgNo == ''">NULL</if><if test="intgNo != ''">#{intgNo, jdbcType=BIGINT}</if>,</if>
			<if test="sendrNmOrgId != null">SENDR_NM_ORG_ID = #{sendrNmOrgId, jdbcType=VARCHAR},</if>
			<if test="sendWithRefDocYn != null">SEND_WITH_REF_DOC_YN = #{sendWithRefDocYn, jdbcType=VARCHAR},</if>
			<if test="footerVa != null">FOOTER_VA = #{footerVa, jdbcType=NVARCHAR},</if>
			<if test="xmlTypId != null">XML_TYP_ID = #{xmlTypId, jdbcType=VARCHAR},</if>
		</set>
		<where>
			<if test="apvNo != null">AND APV_NO = #{apvNo, jdbcType=BIGINT}</if>
			<if test="paperApvNo != null and paperApvNo != ''">AND APV_NO IN (SELECT APV_NO FROM AP_${storage}_EXTN_DOC_D WHERE ORGN_APV_NO = #{paperApvNo, jdbcType=BIGINT})</if>
			<if test="whereSqllet != null and whereSqllet != ''">${whereSqllet}</if>
		</where>
	</update>

	<delete id="deleteApOngdB" parameterType="ApOngdBVo" >
		/* com.innobiz.orange.web.ap.dao.ApOngdBDao.deleteApOngdB */
		DELETE FROM AP_${storage}_B
		<where>
			<if test="apvNo != null">AND APV_NO = #{apvNo, jdbcType=BIGINT}</if>
			<if test="whereSqllet != null and whereSqllet != ''">${whereSqllet}</if>
		</where>
	</delete>

</mapper>