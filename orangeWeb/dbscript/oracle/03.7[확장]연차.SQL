
--DROP TABLE WD_ANB_B CASCADE CONSTRAINT PURGE;
CREATE TABLE WD_ANB_B
(
    YEAR                        NUMBER      (10) NOT NULL,
    ANB_TYP_CD                  VARCHAR2    (30) NOT NULL,
    ODUR_UID                    VARCHAR2    (30) NOT NULL,
    COMP_ID                     VARCHAR2     (3) ,
    FORW_CNT                    NUMBER    (20,2) ,
    FORW_MOD_CNT                NUMBER    (20,2) ,
    CRE_CNT                     NUMBER    (20,2) ,
    CRE_MOD_CNT                 NUMBER    (20,2) ,
    USE_CNT                     NUMBER    (20,2) ,
    USE_MOD_CNT                 NUMBER    (20,2) ,
    ONGO_CNT                    NUMBER    (20,2) ,
    ONGO_MOD_CNT                NUMBER    (20,2) ,
    CRE_YEAR                    NUMBER      (10) 
)
TABLESPACE TS_GW_WK
STORAGE (INITIAL 5M NEXT 5M MAXEXTENTS UNLIMITED)
LOGGING
NOPARALLEL;

CREATE UNIQUE INDEX PK_WD_ANB_B ON WD_ANB_B
(
    YEAR ASC,
    ANB_TYP_CD ASC,
    ODUR_UID ASC
)
TABLESPACE TS_GW_WK
LOGGING
NOPARALLEL;

ALTER TABLE WD_ANB_B ADD 
(CONSTRAINT PK_WD_ANB_B PRIMARY KEY (YEAR, ANB_TYP_CD, ODUR_UID));

COMMENT ON TABLE WD_ANB_B IS '연차기본';
COMMENT ON COLUMN WD_ANB_B.YEAR IS '기준년도';
COMMENT ON COLUMN WD_ANB_B.ANB_TYP_CD IS '연차구분코드';
COMMENT ON COLUMN WD_ANB_B.ODUR_UID IS '원직자UID';
COMMENT ON COLUMN WD_ANB_B.COMP_ID IS '회사ID';
COMMENT ON COLUMN WD_ANB_B.FORW_CNT IS '이월수';
COMMENT ON COLUMN WD_ANB_B.FORW_MOD_CNT IS '이월차감수';
COMMENT ON COLUMN WD_ANB_B.CRE_CNT IS '발생수';
COMMENT ON COLUMN WD_ANB_B.CRE_MOD_CNT IS '발생차감수';
COMMENT ON COLUMN WD_ANB_B.USE_CNT IS '사용수';
COMMENT ON COLUMN WD_ANB_B.USE_MOD_CNT IS '사용차감수';
COMMENT ON COLUMN WD_ANB_B.ONGO_CNT IS '진행수';
COMMENT ON COLUMN WD_ANB_B.ONGO_MOD_CNT IS '진행차감수';
COMMENT ON COLUMN WD_ANB_B.CRE_YEAR IS '발생년도';


CREATE INDEX IDX_WD_ANB_B_1 ON WD_ANB_B (ODUR_UID, ANB_TYP_CD) TABLESPACE TS_GW_WK LOGGING NOPARALLEL;


--DROP TABLE WD_ANB_MOD_L CASCADE CONSTRAINT PURGE;
CREATE TABLE WD_ANB_MOD_L
(
    YEAR                        NUMBER      (10) NOT NULL,
    ANB_TYP_CD                  VARCHAR2    (30) NOT NULL,
    ODUR_UID                    VARCHAR2    (30) NOT NULL,
    SEQ                         NUMBER      (10) NOT NULL,
    MOD_TYP_CD                  VARCHAR2    (30) ,
    MOD_CNT                     NUMBER    (20,2) ,
    USE_YMD                     DATE             ,
    MONTH                       NUMBER      (10) ,
    APV_NO                      NUMBER      (20) ,
    RSON                        VARCHAR2   (400) ,
    MOD_UID                     VARCHAR2    (30) ,
    MOD_DT                      DATE             ,
    NOTE                        VARCHAR2   (400) 
)
TABLESPACE TS_GW_WK
STORAGE (INITIAL 1M NEXT 1M MAXEXTENTS UNLIMITED)
LOGGING
NOPARALLEL;

CREATE UNIQUE INDEX PK_WD_ANB_MOD_L ON WD_ANB_MOD_L
(
    YEAR ASC,
    ANB_TYP_CD ASC,
    ODUR_UID ASC,
    SEQ ASC
)
TABLESPACE TS_GW_WK
LOGGING
NOPARALLEL;

ALTER TABLE WD_ANB_MOD_L ADD 
(CONSTRAINT PK_WD_ANB_MOD_L PRIMARY KEY (YEAR, ANB_TYP_CD, ODUR_UID, SEQ));

COMMENT ON TABLE WD_ANB_MOD_L IS '연차차감내역';
COMMENT ON COLUMN WD_ANB_MOD_L.YEAR IS '기준년도';
COMMENT ON COLUMN WD_ANB_MOD_L.ANB_TYP_CD IS '연차구분코드';
COMMENT ON COLUMN WD_ANB_MOD_L.ODUR_UID IS '원직자UID';
COMMENT ON COLUMN WD_ANB_MOD_L.SEQ IS '일련번호';
COMMENT ON COLUMN WD_ANB_MOD_L.MOD_TYP_CD IS '차감구분코드';
COMMENT ON COLUMN WD_ANB_MOD_L.MOD_CNT IS '차감수';
COMMENT ON COLUMN WD_ANB_MOD_L.USE_YMD IS '사용년월일';
COMMENT ON COLUMN WD_ANB_MOD_L.MONTH IS '월';
COMMENT ON COLUMN WD_ANB_MOD_L.APV_NO IS '결재번호';
COMMENT ON COLUMN WD_ANB_MOD_L.RSON IS '근거';
COMMENT ON COLUMN WD_ANB_MOD_L.MOD_UID IS '차감자UID';
COMMENT ON COLUMN WD_ANB_MOD_L.MOD_DT IS '차감일시';
COMMENT ON COLUMN WD_ANB_MOD_L.NOTE IS '비고';


--DROP TABLE WD_ANB_USE_L CASCADE CONSTRAINT PURGE;
CREATE TABLE WD_ANB_USE_L
(
    YEAR                        NUMBER      (10) NOT NULL,
    ANB_TYP_CD                  VARCHAR2    (30) NOT NULL,
    ODUR_UID                    VARCHAR2    (30) NOT NULL,
    USE_YMD                     DATE             NOT NULL,
    CMPL_YN                     CHAR         (1) ,
    USE_CNT                     NUMBER    (20,2) ,
    REG_DT                      DATE             ,
    APV_NO                      NUMBER      (20) ,
    RSON                        VARCHAR2   (400) 
)
TABLESPACE TS_GW_WK
STORAGE (INITIAL 20M NEXT 5M MAXEXTENTS UNLIMITED)
LOGGING
NOPARALLEL;

CREATE UNIQUE INDEX PK_WD_ANB_USE_L ON WD_ANB_USE_L
(
    YEAR ASC,
    ANB_TYP_CD ASC,
    ODUR_UID ASC,
    USE_YMD ASC
)
TABLESPACE TS_GW_WK
LOGGING
NOPARALLEL;

ALTER TABLE WD_ANB_USE_L ADD 
(CONSTRAINT PK_WD_ANB_USE_L PRIMARY KEY (YEAR, ANB_TYP_CD, ODUR_UID, USE_YMD));

COMMENT ON TABLE WD_ANB_USE_L IS '연차사용내역';
COMMENT ON COLUMN WD_ANB_USE_L.YEAR IS '기준년도';
COMMENT ON COLUMN WD_ANB_USE_L.ANB_TYP_CD IS '연차구분코드';
COMMENT ON COLUMN WD_ANB_USE_L.ODUR_UID IS '원직자UID';
COMMENT ON COLUMN WD_ANB_USE_L.USE_YMD IS '사용년월일';
COMMENT ON COLUMN WD_ANB_USE_L.CMPL_YN IS '완결여부';
COMMENT ON COLUMN WD_ANB_USE_L.USE_CNT IS '사용수';
COMMENT ON COLUMN WD_ANB_USE_L.REG_DT IS '등록일';
COMMENT ON COLUMN WD_ANB_USE_L.APV_NO IS '결재번호';
COMMENT ON COLUMN WD_ANB_USE_L.RSON IS '근거';


CREATE INDEX IDX_WD_ANB_USE_L_1 ON WD_ANB_USE_L (ODUR_UID, USE_YMD) TABLESPACE TS_GW_WK LOGGING NOPARALLEL;

